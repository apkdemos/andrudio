
buildscript {
  repositories { mavenCentral() }

  dependencies { classpath parent.GRADLE_PLUGIN }
}

apply plugin: 'android-library'
apply plugin: 'maven-publish'
android {

  compileSdkVersion parent.TARGET_SDK
  buildToolsVersion parent.BUILD_TOOLS_VERSION
  defaultConfig {
    versionCode parent.VERSION_CODE
    versionName '1.0'
    minSdkVersion 8
    targetSdkVersion parent.TARGET_SDK
  }
  lintOptions { abortOnError false }

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_7
    targetCompatibility JavaVersion.VERSION_1_7
  }

  sourceSets {
    main {
      manifest.srcFile 'AndroidManifest.xml'
      java.srcDirs = ['src']
      resources.srcDirs = ['src']
      aidl.srcDirs = ['src']
      renderscript.srcDirs = ['src']
      res.srcDirs = ['res']
      assets.srcDirs = ['assets']     
    }

    androidTest.setRoot('tests')
  }
}


publishing {
    publications {
        mavenJava(MavenPublication) {
            groupId 'danbroid'
            artifactId 'andrudio'
            version 'v1.0'
            artifact("$buildDir/outputs/aar/library-release.aar")
        }
    }
}


